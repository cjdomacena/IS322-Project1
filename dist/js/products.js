const base_url="https://fakestoreapi.com";let current_products;const getAllProducts=async()=>{try{const e=await fetch(`${base_url}/products?limit=9`);return await e.json()}catch(e){console.log(e)}},getCategories=async()=>{const e=await fetch(`${base_url}/products/categories`);return await e.json()},getCategoryItems=async e=>(await fetch(`${base_url}/products/category/${e}`)).json(),displayAllProducts=e=>{let t=document.getElementById("products-list");e.map((e=>{const c=document.createElement("div");c.classList.add("product-item");const n=document.createElement("div");n.classList.add("product-image");const a=document.createElement("img");a.src=e.image,n.appendChild(a);const d=document.createElement("div"),s=document.createElement("h4");s.innerText=e.title;const r=document.createElement("ul");for(i=0;i<3;i++){const t=document.createElement("li"),c=document.createElement("p");switch(i){case 0:c.innerText=e.description,c.classList.add("product-short-desc");break;case 1:c.innerText=e.category,c.classList.add("product-category");break;case 2:c.innerText=`$${e.price}`,c.classList.add("product-price")}t.appendChild(c),r.appendChild(t)}d.appendChild(s),d.appendChild(r),c.appendChild(n),c.appendChild(d),t.appendChild(c)}))},displayAllCategories=e=>{const t=document.getElementById("filter-category");e.map((e=>{const c=document.createElement("option");c.value=e,c.innerText=e,t.appendChild(c)}))};document.addEventListener("DOMContentLoaded",(()=>{getCategories().then((e=>displayAllCategories(e))),getAllProducts().then((e=>displayAllProducts(e)))}));const cat_filter_btn=document.getElementById("filter-category");cat_filter_btn.addEventListener("change",(e=>{document.getElementById("products-list").innerHTML="","default"===e.currentTarget.value?getAllProducts().then((e=>displayAllProducts(e))):getCategoryItems(e.currentTarget.value).then((e=>displayAllProducts(e)))}));